@{
  ViewData["Title"] = "Master History - Breakdown";
}

<form name="frm" id="masterhistoryform"  method="post" action='@Url.Action("MasterHistoryInsert","Master")'>
  <input type="hidden" id="MasterId" name="MasterId" value="@Model.MasterId">
  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-12">
        <!-- general form elements disabled -->
        <div class="card card-primary">
          <div class="card-header">

            <div class="row">
              <div class="col-md-6">
                <h3 class="card-title">Master History Creation</h3>
              </div>
              <div class="col-md-6 text-right">
                <a href='@Url.Action("MasterHistory","Master",new {MasterId=@Model.MasterId})'><input type="button" class="btn btn-sm btn-default"
                    value="Master History"></a>
              </div>

            </div>
          </div>

          <div class="card card-default">
            <div class="card-header">
              <h3 class="card-title">Master History - Breakdown Details</h3>

              <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse">
                  <i class="fas fa-minus"></i>
                </button>
                <button type="button" class="btn btn-tool" data-card-widget="remove">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
            <!-- /.card-header -->

            <div class="card-body">
              <div class="row">
                <div class="col-sm-6">
                  <!-- text input -->
                  <div class="form-group">
                    <label class="required">Date</label>
                    <input type="text" id="Date" name="Date" value="@Model.Date"
                      class="form-control" placeholder="" readonly>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="required">Category</label>                    
                    <input type="text" id="Category" name="Category" value="@Model.Category" class="form-control" placeholder="">
                  </div>
                </div>
              </div>              
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group">
                    <label class="required">Description</label>
                    <textarea id="Description" name="Description" value="@Model.Description" class="form-control"></textarea>

                  </div>
                </div>
                 <div class="col-sm-6">
                  <!-- text input -->
                  <div class="form-group">
                    <label class="required">Actions Taken/Calibration Results</label>
                    <textarea id="Actions_Taken" name="Actions_Taken" value="@Model.Actions_Taken" class="form-control"></textarea>

                  </div>
                </div>
              </div>
              <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>From Date</label>
                       <div class="input-group date" id="reservationdate1" data-target-input="nearest" onchange="$('#FromDate').attr('value',$('#FromDate').val());">
                          <input type="text" class="form-control datetimepicker-input" data-target="#reservationdate1"
                            id="FromDate" name="FromDate" value="@Model.FromDate" />
                          <div class="input-group-append" data-target="#reservationdate1" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                          </div>
                        </div>
                    </div>
                  </div>

                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>To Date</label>
                      <div class="input-group date" id="reservationdate2" data-target-input="nearest" onchange="$('#ToDate').attr('value',$('#ToDate').val());">
                          <input type="text" class="form-control datetimepicker-input" data-target="#reservationdate2"
                            id="ToDate" name="ToDate" value="@Model.ToDate" />
                          <div class="input-group-append" data-target="#reservationdate2" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                          </div>
                        </div>
                    </div>
                  </div>
                </div>
            <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group">
                      <label>Date of Completion</label>
                       <div class="input-group date" id="reservationdate" data-target-input="nearest" onchange="$('#Date_of_Completion').attr('value',$('#Date_of_Completion').val());">
                          <input type="text" class="form-control datetimepicker-input" data-target="#reservationdate"
                            id="Date_of_Completion" name="Date_of_Completion" value="@Model.Date_of_Completion" />
                          <div class="input-group-append" data-target="#reservationdate" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                          </div>
                        </div>
                    </div>
                  </div>

                  <div class="col-sm-6">
                    <div class="form-group">
                        <label class="required">Breakdown Hrs/Days</label>                    
                        <input type="text" id="Breakdown_hrs_days" name="Breakdown_hrs_days" value="@Model.Breakdown_hrs_days" class="form-control" placeholder="">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                  <div class="form-group">
                    <label class="required">Status </label>                    
                    <input type="text" id="Status" name="Status" value="@Model.Status" class="form-control" placeholder="">
                  </div>
                  </div>

                  <div class="col-sm-6">
                  <div class="form-group">
                    <label class="required">Maintainence/Supplier Representative </label>                    
                    <input type="text" id="Maintainence" name="Maintainence" value="@Model.Maintainence" class="form-control" placeholder="">
                  </div>
                  </div>
                </div>
                @if(Model.StatusId==1)
                {
                <div class="row">
                  <div class="col-sm-6">
                  <div class="form-group">
                    <label class="required">Updated By </label>                    
                    <input type="text" id="CreatedBy" name="CreatedBy" value="@Model.CreatedBy" class="form-control" readonly placeholder="">
                  </div>
                  </div>                 
                </div>
                }
            </div>
            <div class="card-footer">
              <center><button type="submit" class="btn btn-primary">Submit</button></center>
            </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
  </section>
  <!-- /.content -->
</form>

<script>
  setTimeout(function () {

  $('#reservationdate').datetimepicker({
       format: 'DD/MM/YYYY'
    });
    $('#reservationdate1').datetimepicker({
      format: 'DD/MM/YYYY'
    });
    $('#reservationdate2').datetimepicker({
      format: 'DD/MM/YYYY'
    });
    },3000);    
</script>

